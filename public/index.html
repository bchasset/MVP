<!DOCTYPE html>
<html ng-app='app'>
<head>
  <title>Workout Ratings</title>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>
  <script src="app.js"></script>
  <!--  <link rel="stylesheet" href="styles.css" /> -->
</head>

<body>
  <h1>Workout Ratings</h1>
    <h2>Add a workout</h2>
      <div ng-controller="WorkoutEntryController">
        <form ng-submit='addWorkout(workout)'>
          <input type="text" ng-model='workout.name' placeholder="Name" ng-required="true"></input>
          <input type="text" ng-model='workout.link' placeholder="Link" ng-required="true"></input>
          <input type="number" min="1" max="10" ng-model='workout.outOfTen' placeholder="Rating" ng-required="true"></input>
          <input type="number" ng-model='workout.squatGain' placeholder="Squat Gain" ng-required="true"></input>
          <input type="number" ng-model='workout.deadliftGain' placeholder="Deadlift Gain" ng-required="true"></input>
          <input type="number" ng-model='workout.benchPressGain' placeholder="Bench Press Gain" ng-required="true"></input>
          <button>add workout</button>
        </form>
      </div>
    <div ng-controller="WorkoutListController">
      <table>
        <tr>
          <th ng-click="sortType='name'; reverseSort = !reverseSort">Name</th>
          <th ng-click="sortType='link'; reverseSort = !reverseSort">Link</th>
          <th ng-click="sortType='totalRatings'; reverseSort = !reverseSort"># Ratings</th>
          <th ng-click="sortType='workout.outOfTen / workout.totalRatings'; reverseSort = !reverseSort">Rating</th>
          <th ng-click="sortType='squatGain.outOfTen / workout.totalRatings'; reverseSort = !reverseSort">Squat Increase</th>
          <th ng-click="sortType='deadliftGain.outOfTen / workout.totalRatings'; reverseSort = !reverseSort">Deadlift Increase</th>
          <th ng-click="sortType='benchPressGain.outOfTen / workout.totalRatings'; reverseSort = !reverseSort">Bench Press Increase</th>
        </tr>
        <tr ng-repeat="workout in data.workouts | orderBy:sortType:reverseSort">
          <td>{{workout.name}}</td>
          <td>{{workout.link}}</td>
          <td>{{workout.totalRatings}}</td>
          <td>{{workout.outOfTen / workout.totalRatings | number : 2}}</td>
          <td>{{workout.squatGain / workout.totalRatings | number : 1}}</td>
          <td>{{workout.deadliftGain / workout.totalRatings | number : 1}}</td>
          <td>{{workout.benchPressGain / workout.totalRatings | number : 1}}</td>
        </tr>
      </table>
    </div>
    <h2>Review an existing workout</h2>
      <div ng-controller="WorkoutListController">
        <form ng-submit='updateWorkout(enterWorkout)'>
          <select name="name" ng-model='enterWorkout.name' ng-required="true">
            <option ng-repeat="workout in data.workouts">{{workout.name}}</option>
          </select>
          <input type="number" min="1" max="10" ng-model='enterWorkout.outOfTen' placeholder="Rating" ng-required="true"></input>
          <input type="number" ng-model='enterWorkout.squatGain' placeholder="Squat Gain" ng-required="true"></input>
          <input type="number" ng-model='enterWorkout.deadliftGain' placeholder="Deadlift Gain" ng-required="true"></input>
          <input type="number" ng-model='enterWorkout.benchPressGain' placeholder="Bench Press Gain" ng-required="true"></input>
          <button>add review</button>
        </form>
      </div>
</body>
</html>
